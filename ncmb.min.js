(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
const{NcmbDS:NcmbDS}=require("./libs/ncmb");exports.NcmbDS=NcmbDS;

},{"./libs/ncmb":2}],2:[function(require,module,exports){
const{Query:Query}=require("./query"),{Signature:Signature}=require("./signature"),{NCMBObject:NCMBObject}=require("./object"),{Request:Request}=require("./request");class NcmbDS{constructor(e,t){this.applicationKey=e,this.clientKey=t,this.fqdn="mbaas.api.nifcloud.com",this.version="2013-09-01",this.signature=new Signature(this,e,t),this.applicationKeyName="X-NCMB-Application-Key",this.timestampName="X-NCMB-Timestamp",this.NCMBObject=NCMBObject,this.request=new Request(this)}Object(e){return new this.NCMBObject(this,e)}Query(e){return new Query(this,e)}path(e,t=null){return`/${this.version}/classes/${e}/${t||""}`}url(e,t={},i=null){const s=Object.keys(t).sort().map(e=>`${e}=${encodeURI(JSON.stringify(t[e]))}`).join("&");return`https://${this.fqdn}${this.path(e,i)}${s?"?"+s:""}`}}exports.NcmbDS=NcmbDS;

},{"./object":3,"./query":4,"./request":5,"./signature":6}],3:[function(require,module,exports){
class NCMBObject{constructor(s,t){this.ncmb=s,this.className=t,this.fields={}}sets(s){for(let t in s)["createDate","updateDate"].indexOf(t)>-1?this.fields[t]=new Date(s[t]):this.fields[t]=s[t]}set(s,t){return this.fields[s]=t,this}get(s){return this.fields[s]}async save(){const s=this.fields.objectId?"put":"post",t=await this.ncmb.request[s](this.className,this.fields,this.fields.objectId);return this.sets(t),this}}exports.NCMBObject=NCMBObject;

},{}],4:[function(require,module,exports){
const{NCMBObject:NCMBObject}=require("./object");class Query{constructor(e,t){this.ncmb=e,this.className=t,this.queries={}}where(e){return this.queries.where=e,this}limit(e){return this.queries.limit=e,this}offset(e){return this.queries.offset=e,this}async fetchAll(){return await this.ncmb.request.get(this.className,this.queries)}async fetch(){return await this.fetchAll()[0]}}exports.Query=Query;

},{"./object":3}],5:[function(require,module,exports){
const fetch=require("node-fetch");class Request{constructor(t){this.ncmb=t}async get(t,e={}){return(await this.exec("GET",t,e)).results.map(e=>{const n=new this.ncmb.NCMBObject(this.ncmb,t);return n.sets(e),n})}async post(t,e){return await this.exec("POST",t,{},e)}async put(t,e,n){return await this.exec("PUT",t,{},e,n)}data(t){return delete t.createDate,delete t.updateDate,delete t.objectId,JSON.stringify(t)}async exec(t,e,n,a=null,s=null){const c=(new Date).toISOString(),r={"X-NCMB-Signature":this.ncmb.signature.create(t,c,e,n,s),"Content-Type":"application/json"};r[this.ncmb.applicationKeyName]=this.ncmb.applicationKey,r[this.ncmb.timestampName]=c;const i=await fetch(this.ncmb.url(e,n,s),{method:t,headers:r,body:["POST","PUT"].indexOf(t)>-1?this.data(a):null}),o=await i.json();if(o.code)throw new Error(o.error);return o}}exports.Request=Request;

},{"node-fetch":12}],6:[function(require,module,exports){
const hmacSHA256=require("crypto-js/hmac-sha256"),Base64=require("crypto-js/enc-base64");class Signature{constructor(e,t,i){this.ncmb=e,this.applicationKey=t,this.clientKey=i,this.signatureMethodName="SignatureMethod",this.signatureMethodValue="HmacSHA256",this.signatureVersionName="SignatureVersion",this.signatureVersionValue="2"}create(e,t,i,s={},a=null){const n=this.ncmb.path(i,a);s[this.signatureMethodName]=this.signatureMethodValue,s[this.signatureVersionName]=this.signatureVersionValue,s[this.ncmb.applicationKeyName]=this.applicationKey,s[this.ncmb.timestampName]=t;const r=Object.keys(s).sort().map(e=>`${e}=${encodeURI(JSON.stringify(s[e]))}`).join("&"),h=[e,this.ncmb.fqdn,n,r].join("\n");return Base64.stringify(hmacSHA256(h,this.clientKey))}}exports.Signature=Signature;

},{"crypto-js/enc-base64":8,"crypto-js/hmac-sha256":9}],7:[function(require,module,exports){
!function(t,n){"object"==typeof exports?module.exports=exports=n():"function"==typeof define&&define.amd?define([],n):t.CryptoJS=n()}(this,function(){var t=t||function(t,n){var i=Object.create||function(){function t(){}return function(n){var i;return t.prototype=n,i=new t,t.prototype=null,i}}(),e={},r=e.lib={},o=r.Base={extend:function(t){var n=i(this);return t&&n.mixIn(t),n.hasOwnProperty("init")&&this.init!==n.init||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=r.WordArray=o.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=null!=n?n:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var n=this.words,i=t.words,e=this.sigBytes,r=t.sigBytes;if(this.clamp(),e%4)for(var o=0;o<r;o++){var s=i[o>>>2]>>>24-o%4*8&255;n[e+o>>>2]|=s<<24-(e+o)%4*8}else for(o=0;o<r;o+=4)n[e+o>>>2]=i[o>>>2];return this.sigBytes+=r,this},clamp:function(){var n=this.words,i=this.sigBytes;n[i>>>2]&=4294967295<<32-i%4*8,n.length=t.ceil(i/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(n){for(var i,e=[],r=function(n){n=n;var i=987654321,e=4294967295;return function(){var r=((i=36969*(65535&i)+(i>>16)&e)<<16)+(n=18e3*(65535&n)+(n>>16)&e)&e;return r/=4294967296,(r+=.5)*(t.random()>.5?1:-1)}},o=0;o<n;o+=4){var a=r(4294967296*(i||t.random()));i=987654071*a(),e.push(4294967296*a()|0)}return new s.init(e,n)}}),a=e.enc={},c=a.Hex={stringify:function(t){for(var n=t.words,i=t.sigBytes,e=[],r=0;r<i;r++){var o=n[r>>>2]>>>24-r%4*8&255;e.push((o>>>4).toString(16)),e.push((15&o).toString(16))}return e.join("")},parse:function(t){for(var n=t.length,i=[],e=0;e<n;e+=2)i[e>>>3]|=parseInt(t.substr(e,2),16)<<24-e%8*4;return new s.init(i,n/2)}},u=a.Latin1={stringify:function(t){for(var n=t.words,i=t.sigBytes,e=[],r=0;r<i;r++){var o=n[r>>>2]>>>24-r%4*8&255;e.push(String.fromCharCode(o))}return e.join("")},parse:function(t){for(var n=t.length,i=[],e=0;e<n;e++)i[e>>>2]|=(255&t.charCodeAt(e))<<24-e%4*8;return new s.init(i,n)}},f=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},h=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(n){var i=this._data,e=i.words,r=i.sigBytes,o=this.blockSize,a=r/(4*o),c=(a=n?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*o,u=t.min(4*c,r);if(c){for(var f=0;f<c;f+=o)this._doProcessBlock(e,f);var h=e.splice(0,c);i.sigBytes-=u}return new s.init(h,u)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),p=(r.Hasher=h.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(n,i){return new t.init(i).finalize(n)}},_createHmacHelper:function(t){return function(n,i){return new p.HMAC.init(t,i).finalize(n)}}}),e.algo={});return e}(Math);return t});

},{}],8:[function(require,module,exports){
!function(r,e){"object"==typeof exports?module.exports=exports=e(require("./core")):"function"==typeof define&&define.amd?define(["./core"],e):e(r.CryptoJS)}(this,function(r){return function(){var e=r,t=e.lib.WordArray;e.enc.Base64={stringify:function(r){var e=r.words,t=r.sigBytes,a=this._map;r.clamp();for(var n=[],o=0;o<t;o+=3)for(var i=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,f=0;f<4&&o+.75*f<t;f++)n.push(a.charAt(i>>>6*(3-f)&63));var c=a.charAt(64);if(c)for(;n.length%4;)n.push(c);return n.join("")},parse:function(r){var e=r.length,a=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var o=0;o<a.length;o++)n[a.charCodeAt(o)]=o}var i=a.charAt(64);if(i){var f=r.indexOf(i);-1!==f&&(e=f)}return function(r,e,a){for(var n=[],o=0,i=0;i<e;i++)if(i%4){var f=a[r.charCodeAt(i-1)]<<i%4*2,c=a[r.charCodeAt(i)]>>>6-i%4*2;n[o>>>2]|=(f|c)<<24-o%4*8,o++}return t.create(n,o)}(r,e,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),r.enc.Base64});

},{"./core":7}],9:[function(require,module,exports){
!function(e,r,o){"object"==typeof exports?module.exports=exports=r(require("./core"),require("./sha256"),require("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha256","./hmac"],r):r(e.CryptoJS)}(this,function(e){return e.HmacSHA256});

},{"./core":7,"./hmac":10,"./sha256":11}],10:[function(require,module,exports){
!function(e,t){"object"==typeof exports?module.exports=exports=t(require("./core")):"function"==typeof define&&define.amd?define(["./core"],t):t(e.CryptoJS)}(this,function(e){var t,i,n;i=(t=e).lib.Base,n=t.enc.Utf8,t.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var i=e.blockSize,s=4*i;t.sigBytes>s&&(t=e.finalize(t)),t.clamp();for(var r=this._oKey=t.clone(),o=this._iKey=t.clone(),a=r.words,f=o.words,h=0;h<i;h++)a[h]^=1549556828,f[h]^=909522486;r.sigBytes=o.sigBytes=s,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,i=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(i))}})});

},{"./core":7}],11:[function(require,module,exports){
!function(e,r){"object"==typeof exports?module.exports=exports=r(require("./core")):"function"==typeof define&&define.amd?define(["./core"],r):r(e.CryptoJS)}(this,function(e){return function(r){var t=e,o=t.lib,n=o.WordArray,i=o.Hasher,s=t.algo,a=[],c=[];!function(){function e(e){for(var t=r.sqrt(e),o=2;o<=t;o++)if(!(e%o))return!1;return!0}function t(e){return 4294967296*(e-(0|e))|0}for(var o=2,n=0;n<64;)e(o)&&(n<8&&(a[n]=t(r.pow(o,.5))),c[n]=t(r.pow(o,1/3)),n++),o++}();var f=[],h=s.SHA256=i.extend({_doReset:function(){this._hash=new n.init(a.slice(0))},_doProcessBlock:function(e,r){for(var t=this._hash.words,o=t[0],n=t[1],i=t[2],s=t[3],a=t[4],h=t[5],u=t[6],l=t[7],d=0;d<64;d++){if(d<16)f[d]=0|e[r+d];else{var _=f[d-15],p=(_<<25|_>>>7)^(_<<14|_>>>18)^_>>>3,v=f[d-2],H=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;f[d]=p+f[d-7]+H+f[d-16]}var y=o&n^o&i^n&i,w=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),A=l+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&h^~a&u)+c[d]+f[d];l=u,u=h,h=a,a=s+A|0,s=i,i=n,n=o,o=A+(w+y)|0}t[0]=t[0]+o|0,t[1]=t[1]+n|0,t[2]=t[2]+i|0,t[3]=t[3]+s|0,t[4]=t[4]+a|0,t[5]=t[5]+h|0,t[6]=t[6]+u|0,t[7]=t[7]+l|0},_doFinalize:function(){var e=this._data,t=e.words,o=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=r.floor(o/4294967296),t[15+(n+64>>>9<<4)]=o,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(h),t.HmacSHA256=i._createHmacHelper(h)}(Math),e.SHA256});

},{"./core":7}],12:[function(require,module,exports){
"use strict";var getGlobal=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==global)return global;throw new Error("unable to locate global object")},global=getGlobal();module.exports=exports=global.fetch,exports.default=global.fetch.bind(global),exports.Headers=global.Headers,exports.Request=global.Request,exports.Response=global.Response;

},{}]},{},[1]);
